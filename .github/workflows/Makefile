# Post-process the haskell-ci.yml file generated by
# $ haskell-ci github hackage-server.cabal
# or
# $ haskell-ci regenerate

.PHONY: patch-haskell-ci
patch-haskell-ci : haskell-ci.patch Makefile
	patch -N --input=haskell-ci.patch haskell-ci.yml

# Regenerate haskell-ci.patch
#
# $ cp haskell-ci.yml haskell-ci.yml.orig
# ... edit haskell-ci.yml ...
# $ make haskell.ci.patch
#
haskell-ci.patch : haskell-ci.yml.orig haskell-ci.yml
	-diff -u haskell-ci.yml.orig haskell-ci.yml > $@

# EOF
